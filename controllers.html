<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Menukaarten-docs</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<link rel="stylesheet" href="assets/css/stylesheet.css" media="screen,print">		
		<link rel="stylesheet" href="assets/css/print.css" media="print">
		<link rel="stylesheet" type="text/css" href="assets/css/shCore.css" media="screen,print">
		<link rel="stylesheet" type="text/css" href="assets/css/shThemeDefault.css" media="screen,print">
		<script type="text/javascript" src="assets/js/jquery.min.js"></script>
		<script type="text/javascript" src="assets/js/SyntaxHighlighter.js"></script>
		<script type="text/javascript" src="assets/js/build_menu.js"></script>
	</head>
	
	<body>
		<div id="header-wrapper">
			<div id="header">
				<h1>Documentation SexyFramework</h1>
				<span>Created by Vincent Bremer &amp; Douwe de Haan</span>
			</div>
		</div>
		<div id="container">
			<div id="menu-wrapper">
				<div id="menu">
					<h1>Table of contents</h1>
					<ul></ul>
				</div>
			</div>
			<div id="content-wrapper">
				<div id="content">

<!-- START CONTENT -->

<h1>Controllers</h1>
<p>A controller is the link between a user and the system. It provides the user with input by arranging for relevant views to present themselves in appropriate places on the screen. It provides means for user output by presenting the user with menus or other means of giving commands and data. The controller receives such user output, translates it into the appropriate messages and pass these messages on to one or more of the views. <sup><a href="#source_1">[1]</a></sup></p>
<p>Controllers are loaded by the router and default to the following format:</p>
<pre class="brush: plain">
http://www.website.com/&lt;controller&gt;/&lt;action&gt;/&lt;id&gt;
</pre>

<p>For example, to view a user with the id 32, the following URL should work:</p>
<pre class="brush: plain">http://www.website.com/users/view/32</pre>

<p>This will call the controller Users_Controller, the action action_view and will set the id variable in the router. To get the requested id, all you have to do is:</p>
<pre class="brush: php">
$user_id = get('id')
</pre>
<p class="note">Please note that it is also possible to put controllers in a subfolder, in which case the URL format will be different. This is explained in the <a href="routing.html#custom_routes">routing documentation</a></p>

<h2>The controller class</h2>
<p>The controller class must me build from a default markup, the bare mininum for an hello world example is:</p>

<span class="bold">application/controllers/users_controller.php</span>
<pre class="brush: php">
&lt;?php
defined('BASE_PATH') or die('No direct script access.');

class Users_Controller extends Base_Controller {
	public function action_index() {
		echo 'Hello world!';
	}
}

?&gt;
</pre>
<p>When you are now browsing to http://www.example.com/users you should see the text "Hello world".</p>

<p class="note">When no action is specified in the URL, it automatically defaults to action_index. If you have an action called action_new, you would need to browse to http://www.example.com/users/new.</p>


<h2>Redirect</h2>
<p>When redirecting to another page, call the following action from the controller:</p>
<pre class="brush: php">$this->redirect('users/index')</pre>

Or to redirect to an external website:
<pre class="brush: php">$this->redirect('http://www.google.com/')</pre>

<p class="footnote">
	[1] - <a href="http://www.codinghorror.com/blog/2008/05/understanding-model-view-controller.html" id="source_1" target="_blank">Codinghorror - Understanding model-view-controller</a> - 5 May 2008<br>
</p>

<!-- END CONTENT -->
	
				</div>
			</div>
		</div>
		<script type="text/javascript" src="assets/js/SyntaxHighlighter_settings.js"></script>
	</body>
</html>
