<!DOCTYPE html>
<html lang="nl">
	<head>
		<title>Menukaarten-docs</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<link rel="stylesheet" href="assets/css/stylesheet.css" media="screen,print">
		
		<link rel="stylesheet" href="assets/css/print.css" media="print">
				
		<link rel="stylesheet" type="text/css" href="assets/css/shCore.css" media="screen,print">
		<link rel="stylesheet" type="text/css" href="assets/css/shThemeDefault.css" media="screen,print">
		
		<script type="text/javascript" src="assets/js/jquery.min.js"></script>
		<script type="text/javascript" src="assets/js/SyntaxHighlighter.js"></script>		
	</head>
	
	<body id="main">
		<div id="container">
			<div id="menu-wrapper">
				<div id="menu">
					<h1>Table of contents</h1>
					<ul>
						<li><a href="index.html">Introduction</a></li>
						<li><a href="conventions.html">Conventions</a></li>
						<li><a href="security.html">Security</a></li>
						<li><a href="controllers.html">Controllers</a></li>
						<li><a href="views.html">Views</a></li>
						<li><a href="models.html">Models</a></li>
						<li><a href="version_history.html">Version History</a></li>
						<li><a href="database.html">Database design</a></li>
						<li><a href="routing.html">Routing</a></li>
					</ul>
				</div>
			</div>
			<div id="content-wrapper">
				<div id="content">

<!-- START CONTENT -->

<h1>Views</h1>
<p>
A view is a (visual) representation of its model. It would ordinarily highlight certain attributes of the model and suppress others. It is thus acting as a presentation filter.
</p>
<p>
A view is attached to its model (or model part) and gets the data necessary for the presentation from the model by asking questions. It may also update the model by sending appropriate messages. All these questions and messages have to be in the terminology of the model, the view will therefore have to know the semantics of the attributes of the model it represents. <sup><a href="#1">[1]</a></sup>
</p>
<h2>Rendering views</h2>
<p>All views are loaded from the directory application/views
In case you want to render the file index.php from the directory application/views/users/ all you need to do in the controller is the following:</p>
<pre class="brush: php">
$this->view->render('users/index')
</pre>

<h2>Setting a template</h2>
<p>By default the template file templates/default.php is loaded in the view. The content of the view is then passed to a $content variable. To create a new template you can do the following:
Create the file templates/test.php and copy-paste:</p>

<pre class="brush: html">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
	&lt;head&gt;
		&lt;title&gt;Template test&lt;/title&gt;
		&lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;
	&lt;/head&gt;
	&lt;body&gt;
		&lt;div id="content"&gt;
			&lt;?php echo $content ?&gt;
		&lt;/div&gt;
	&lt;/body&gt;
&lt;/html&gt;
</pre>

<p>Then, in the controller, you can load the new template and render a view in it with:</p>
<pre class="brush: php">
$view = load::view('test');
$view->render('users/index');
</pre>


<h2>Flash messages:</h2>
<p>
To display a message after a page redirect you can use the following flash message. The flash message acc
</p>


For an error message the msg function accepts 3 variables; class, title and an optional array with errors, for example:<br>
<pre class="brush: php">
$errors = array('Username cant be blank', 'No valid e-mail address entered');

$this->view->msg('error', 'User not saved, the following errors occurd', $errors);
</pre>

To display a notification:<br>
<pre class="brush: php">
$this->view->msg('notification', 'Please update you settings');
</pre>

To display a success message:<br>
<pre class="brush: php">
$this->view->msg('success', 'User has been successfully saved.');
</pre>
<!--
$this->view->set('user', $_POST);
$this->view->render('users/login');
$this->render_msg()
-->

<p class="footnote">
	[1] - <a href="http://www.codinghorror.com/blog/2008/05/understanding-model-view-controller.html" name="1" target="_blank">Codinghorror - Understanding model-view-controller</a><br>

</p>

<!-- END CONTENT -->
	
				</div>
			</div>
		</div>
		<script type="text/javascript" src="assets/js/SyntaxHighlighter_settings.js"></script>
	</body>
</html>
